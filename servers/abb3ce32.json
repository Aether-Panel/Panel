{
  "DaemonServer": null,
  "type": "minecraft-java",
  "id": "abb3ce32",
  "display": "Minecraft: Java Edition",
  "icon": "minecraft-java",
  "data": {
    "eula": {
      "type": "boolean",
      "value": true,
      "display": "EULA Agreement (true/false)",
      "desc": "Do you (or the server owner) agree to the \u003ca href='https://account.mojang.com/documents/minecraft_eula'\u003eMinecraft EULA?\u003c/a\u003e",
      "required": true,
      "userEdit": true
    },
    "forgebuild": {
      "type": "string",
      "value": "",
      "display": "Forge Version",
      "desc": "\u003ca href='http://files.minecraftforge.net/#Downloads'\u003eVersion of Forge\u003c/a\u003e to install. Example: `1.21.8-58.1.0`",
      "required": false,
      "userEdit": true
    },
    "ip": {
      "type": "string",
      "value": "0.0.0.0",
      "display": "IP",
      "desc": "What IP to bind the server to",
      "required": true,
      "userEdit": false
    },
    "javaversion": {
      "type": "string",
      "value": "21",
      "display": "Java Version",
      "desc": "Version of Java to use",
      "required": true,
      "userEdit": true
    },
    "jvmArgs": {
      "type": "string",
      "value": "",
      "display": "JVM Arguments",
      "desc": "Extra JVM arguments to pass",
      "required": false,
      "userEdit": false
    },
    "memory": {
      "type": "integer",
      "value": 2048,
      "display": "Memory (MB)",
      "desc": "How much memory in MB to allocate to the Java Heap",
      "required": true,
      "userEdit": false
    },
    "modlauncher": {
      "type": "string",
      "value": "paper",
      "display": "Mod/Plugin Launcher",
      "desc": "What mod or plugin launcher should be installed with Minecraft",
      "required": false,
      "userEdit": true,
      "options": [
        {
          "value": "",
          "display": "None/Vanilla"
        },
        {
          "value": "fabric",
          "display": "Fabric"
        },
        {
          "value": "forge",
          "display": "MinecraftForge"
        },
        {
          "value": "paper",
          "display": "Paper"
        },
        {
          "value": "spigot",
          "display": "Spigot"
        }
      ]
    },
    "motd": {
      "type": "string",
      "value": "A Minecraft Server\\n\\u00A79 sexo",
      "display": "MOTD message of the day",
      "desc": "This is the message that is displayed in the server list of the client, below the name. The MOTD does support \u003ca href='https://minecraft.gamepedia.com/Formatting_codes' target='_blank'\u003ecolor and formatting codes\u003c/a\u003e.",
      "required": true,
      "userEdit": true
    },
    "paperbuild": {
      "type": "string",
      "value": "latest",
      "display": "build",
      "desc": "Build of Paper to install (\u003ca href='https://papermc.io/downloads'\u003ePaper version build\u003c/a\u003e). Must be specified as a build number, e.g. `484`, or `latest`",
      "required": false,
      "userEdit": true
    },
    "pluginsEnabled": {
      "type": "string",
      "value": false,
      "required": false,
      "userEdit": false
    },
    "port": {
      "type": "integer",
      "value": 25565,
      "display": "Port",
      "desc": "What port to bind the server to",
      "required": true,
      "userEdit": false
    },
    "resolvedForgeVersion": {
      "type": "string",
      "value": "",
      "display": "Resolved Forge Version",
      "desc": "Internal, resolved version of Forge",
      "required": true,
      "internal": true,
      "userEdit": true
    },
    "version": {
      "type": "string",
      "value": "1.21.4",
      "display": "Version",
      "desc": "Version of Minecraft you wish to install. It is best to put a version in, as latest may not work with all server software.",
      "required": true,
      "userEdit": true
    }
  },
  "groups": [
    {
      "display": "General",
      "description": "General settings for all servers",
      "variables": [
        "eula",
        "memory",
        "ip",
        "port",
        "motd",
        "version",
        "javaversion",
        "modlauncher",
        "jvmArgs"
      ],
      "order": 1
    },
    {
      "if": "modlauncher == 'forge'",
      "display": "Forge",
      "description": "Settings if using MinecraftForge",
      "variables": [
        "forgebuild"
      ],
      "order": 2
    },
    {
      "if": "modlauncher == 'paper'",
      "display": "Paper",
      "description": "Settings specific if using Paper",
      "variables": [
        "paperbuild"
      ],
      "order": 3
    }
  ],
  "install": [
    {
      "if": "javaversion != '' \u0026\u0026 env == 'host'",
      "type": "javadl",
      "version": "${javaversion}"
    },
    {
      "if": "modlauncher == ''",
      "type": "mojangdl",
      "version": "${version}",
      "target": "server.jar"
    },
    {
      "if": "modlauncher == 'fabric'",
      "type": "fabricdl"
    },
    {
      "if": "modlauncher == 'fabric' \u0026\u0026 env == 'host'",
      "type": "command",
      "commands": [
        "java${javaversion} -jar fabric-installer.jar server -mcversion ${version} -downloadMinecraft -noprofile -loader latest"
      ]
    },
    {
      "if": "modlauncher == 'fabric' \u0026\u0026 env != 'host'",
      "type": "command",
      "commands": [
        "java -jar fabric-installer.jar server -mcversion ${version} -downloadMinecraft -noprofile -loader latest"
      ]
    },
    {
      "if": "modlauncher == 'fabric'",
      "type": "mojangdl",
      "target": "server.jar",
      "version": "${version}"
    },
    {
      "if": "modlauncher == 'forge'",
      "type": "forgedl",
      "minecraftVersion": "${version}",
      "outputVariable": "resolvedForgeVersion",
      "target": "installer.jar",
      "version": "${forgebuild}"
    },
    {
      "if": "modlauncher == 'forge' \u0026\u0026 env == 'host'",
      "type": "command",
      "commands": [
        "java${javaversion} -jar installer.jar --installServer"
      ]
    },
    {
      "if": "modlauncher == 'forge' \u0026\u0026 env != 'host'",
      "type": "command",
      "commands": [
        "java -jar installer.jar --installServer"
      ]
    },
    {
      "if": "modlauncher == 'forge' \u0026\u0026 file_exists('forge-' + resolvedForgeVersion + '-shim.jar')",
      "type": "move",
      "source": "forge-${resolvedForgeVersion}-shim.jar",
      "target": "server.jar"
    },
    {
      "if": "modlauncher == 'forge' \u0026\u0026 file_exists('forge-' + resolvedForgeVersion + '.jar')",
      "type": "move",
      "source": "forge-${resolvedForgeVersion}.jar",
      "target": "server.jar"
    },
    {
      "if": "modlauncher == 'paper'",
      "type": "paperdl",
      "build": "${paperbuild}",
      "minecraftVersion": "${version}",
      "target": "server.jar"
    },
    {
      "if": "modlauncher == 'spigot'",
      "type": "download",
      "files": [
        "https://hub.spigotmc.org/jenkins/job/BuildTools/lastSuccessfulBuild/artifact/target/BuildTools.jar"
      ]
    },
    {
      "if": "modlauncher == 'spigot' \u0026\u0026 env == 'host'",
      "type": "command",
      "commands": [
        "java${javaversion} -jar BuildTools.jar --rev ${version}"
      ]
    },
    {
      "if": "modlauncher == 'spigot' \u0026\u0026 env != 'host'",
      "type": "command",
      "commands": [
        "java -jar BuildTools.jar --rev ${version}"
      ]
    },
    {
      "if": "modlauncher == 'spigot'",
      "type": "move",
      "source": "spigot-*.jar",
      "target": "server.jar"
    },
    {
      "if": "!file_exists(\"server.properties\")",
      "type": "writefile",
      "target": "server.properties",
      "text": "server-ip=${ip}\nserver-port=${port}\nmotd=${motd}\n"
    },
    {
      "type": "writefile",
      "target": "eula.txt",
      "text": "eula=${eula}"
    }
  ],
  "uninstall": null,
  "run": {
    "command": [
      {
        "command": "java${javaversion} -Xmx${memory}M -Dterminal.jline=false -Dterminal.ansi=true -Dlog4j2.formatMsgNoLookups=true ${jvmArgs} -jar fabric-server-launch.jar nogui",
        "if": "env == 'host' \u0026\u0026 file_exists('fabric-server-launch.jar')"
      },
      {
        "command": "java -Xmx${memory}M -Dterminal.jline=false -Dterminal.ansi=true -Dlog4j2.formatMsgNoLookups=true ${jvmArgs} -jar fabric-server-launch.jar nogui",
        "if": "env != 'host' \u0026\u0026 file_exists('fabric-server-launch.jar')"
      },
      {
        "command": "java${javaversion} -Xmx${memory}M -Dterminal.jline=false -Dterminal.ansi=true -Dlog4j2.formatMsgNoLookups=true ${jvmArgs} -jar server.jar nogui",
        "if": "env == 'host' \u0026\u0026 file_exists('server.jar')"
      },
      {
        "command": "java -Xmx${memory}M -Dterminal.jline=false -Dterminal.ansi=true -Dlog4j2.formatMsgNoLookups=true ${jvmArgs} -jar server.jar nogui",
        "if": "env != 'host' \u0026\u0026 file_exists('server.jar')"
      },
      {
        "command": "java${javaversion} -Xmx${memory}M -Dterminal.jline=false -Dterminal.ansi=true -Dlog4j2.formatMsgNoLookups=true ${jvmArgs} @libraries/net/minecraftforge/forge/${resolvedForgeVersion}/win_args.txt nogui",
        "if": "env == 'host' \u0026\u0026 modlauncher == 'forge' \u0026\u0026 os == 'windows' \u0026\u0026 file_exists('libraries/net/minecraftforge/forge/' + resolvedForgeVersion + '/win_args.txt')"
      },
      {
        "command": "java${javaversion} -Xmx${memory}M -Dterminal.jline=false -Dterminal.ansi=true -Dlog4j2.formatMsgNoLookups=true ${jvmArgs} @libraries/net/minecraftforge/forge/${resolvedForgeVersion}/unix_args.txt nogui",
        "if": "env == 'host' \u0026\u0026 modlauncher == 'forge' \u0026\u0026 file_exists('libraries/net/minecraftforge/forge/' + resolvedForgeVersion + '/unix_args.txt')"
      },
      {
        "command": "java -Xmx${memory}M -Dterminal.jline=false -Dterminal.ansi=true -Dlog4j2.formatMsgNoLookups=true ${jvmArgs} @libraries/net/minecraftforge/forge/${resolvedForgeVersion}/win_args.txt nogui",
        "if": "env != 'host' \u0026\u0026 modlauncher == 'forge' \u0026\u0026 os == 'windows' \u0026\u0026 file_exists('libraries/net/minecraftforge/forge/' + resolvedForgeVersion + '/win_args.txt')"
      },
      {
        "command": "java -Xmx${memory}M -Dterminal.jline=false -Dterminal.ansi=true -Dlog4j2.formatMsgNoLookups=true ${jvmArgs} @libraries/net/minecraftforge/forge/${resolvedForgeVersion}/unix_args.txt nogui",
        "if": "env != 'host' \u0026\u0026 modlauncher == 'forge' \u0026\u0026 file_exists('libraries/net/minecraftforge/forge/' + resolvedForgeVersion+ '/unix_args.txt')"
      },
      {
        "command": "java -Xmx${memory}M -Dterminal.jline=false -Dterminal.ansi=true -Dlog4j2.formatMsgNoLookups=true ${jvmArgs} -jar server.jar nogui"
      }
    ],
    "stop": "stop",
    "pre": [
      {
        "if": "modlauncher == 'forge'",
        "type": "resolveforgeversion",
        "minecraftVersion": "${version}",
        "outputVariable": "resolvedForgeVersion",
        "version": "${forgebuild}"
      }
    ],
    "stdin": {
      "type": "stdin"
    },
    "autostart": false,
    "autorecover": false,
    "autorestart": false
  },
  "environment": {
    "type": "host",
    "disableUnshare": true,
    "mounts": []
  },
  "supportedEnvironments": [
    {
      "type": "host"
    },
    {
      "type": "docker",
      "image": "eclipse-temurin:${javaversion}",
      "portBindings": [
        "0.0.0.0:${port}:${port}/tcp"
      ]
    }
  ],
  "requirements": {},
  "stats": {
    "type": "jcmd"
  },
  "query": {
    "type": "minecraft"
  },
  "keepAlive": {
    "frequency": "",
    "command": ""
  }
}